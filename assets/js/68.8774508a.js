(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{515:function(e,s,a){"use strict";a.r(s);var r=a(26),t=Object(r.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"版本管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本管理"}},[e._v("#")]),e._v(" 版本管理")]),e._v(" "),s("p",[e._v("本文档主要对"),s("strong",[e._v("Sermant")]),e._v("的代码版本管理做介绍。")]),e._v(" "),s("p",[s("strong",[e._v("Sermant")]),e._v("直接使用"),s("a",{attrs:{href:"https://github.com/mojohaus/versions-maven-plugin",target:"_blank",rel:"noopener noreferrer"}},[e._v("versions-maven-plugin"),s("OutboundLink")],1),e._v("做版本管理，常用的命令如下：")]),e._v(" "),s("ul",[s("li",[e._v("更新版本号为"),s("code",[e._v("${version}")]),e._v("："),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("mvn versions:set "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DnewVersion")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${version}")]),e._v("\n")])])]),e._v("该命令默认保留原"),s("code",[e._v("pom")]),e._v("文件备份。")]),e._v(" "),s("li",[e._v("回滚版本号："),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("mvn versions:revert\n")])])])]),e._v(" "),s("li",[e._v("提交新版本号更新，即删除原"),s("code",[e._v("pom")]),e._v("文件备份："),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("mvn versions:commit\n")])])])]),e._v(" "),s("li",[e._v("更新版本号为"),s("code",[e._v("${version}")]),e._v("并提交："),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("mvn versions:set "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DnewVersion")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${version}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DgenerateBackupPoms")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false\n")])])]),e._v("该命令不会备份原"),s("code",[e._v("pom")]),e._v("文件，使用时要注意版本号别写错。")])]),e._v(" "),s("p",[e._v("以上更新版本的命令中，只会修改项目中与顶级模块的版本相同的模块，如果需要单独对某个模块进行更新，可以使用"),s("code",[e._v("-pl")]),e._v("参数指定，比如：")]),e._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("mvn versions:set "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DnewVersion")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${version}")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-DgenerateBackupPoms")]),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("false "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-pl")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${module}")]),e._v("\n")])])]),s("p",[e._v("其中"),s("code",[e._v("${module}")]),e._v("可以传递"),s("code",[e._v("${groupId}:${artifactId}")]),e._v("，也可以传递相对路径。多个模块的情况下，使用"),s("code",[e._v("','")]),e._v("号连接。")]),e._v(" "),s("p",[e._v("关于设置版本命令"),s("code",[e._v("versions:set")]),e._v("的更多信息可以查看"),s("a",{attrs:{href:"http://www.mojohaus.org/versions-maven-plugin/set-mojo.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Versions Maven Plugin versions:set"),s("OutboundLink")],1),e._v("。")]),e._v(" "),s("p",[e._v("更多"),s("code",[e._v("versions-maven-plugin")]),e._v("的命令可以查看"),s("a",{attrs:{href:"http://www.mojohaus.org/versions-maven-plugin/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Versions Maven Plugin Introduction"),s("OutboundLink")],1),e._v("。")])])}),[],!1,null,null,null);s.default=t.exports}}]);