(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{481:function(e,t,r){"use strict";r.r(t);var a=r(26),s=Object(a.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"service-registration-faqs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-registration-faqs"}},[e._v("#")]),e._v(" Service Registration FAQs")]),e._v(" "),t("p",[e._v("This document describes frequently asked questions (FAQs) about using the "),t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant/tree/develop/sermant-plugins/sermant-service-registry",target:"_blank",rel:"noopener noreferrer"}},[e._v("service registration plugin"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"exception-no-such-extension-org-apache-dubbo-registry-registryfactory-by-name-sc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exception-no-such-extension-org-apache-dubbo-registry-registryfactory-by-name-sc"}},[e._v("#")]),e._v(" Exception：No Such Extension org.apache.dubbo.registry.RegistryFactory by name sc")]),e._v(" "),t("p",[e._v("As shown in the following figure:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-1.png"}}),e._v(" "),t("p",[e._v("The possible causes are as follows:")]),e._v(" "),t("p",[e._v("1.1 The application is not started with the agent. The native dubbo does not support registration with the SC. Therefore, if the application started without agent and the protocol of the registration address is SC, the preceding error is reported.")]),e._v(" "),t("p",[e._v("1.2 The core configuration file (${agent_package_path}/agent/config/config.properties) is incorrectly configured. Check the startup log carefully and you will find an error similar to the following:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-2.png"}}),e._v(" "),t("ul",[t("li",[e._v("The value of the configuration center type (dynamic.config.dynamic_config_type) in the core configuration file is incorrect. As a result, the host application cannot load the agent and the No such extension org.apache.dubbo.registry.RegistryFactory by name sc reports an error.")])]),e._v(" "),t("p",[e._v("1.3 The core configuration file (${agent_package_path}/agent/config/config.properties) is incorrectly configured. Check the startup log carefully. The error information similar to the following is displayed:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-3.png"}}),e._v(" "),t("ul",[t("li",[e._v("The configuration center address (dynamic.config.server_address) is incorrectly configured in the core configuration file, the configuration center is not started, or the network is disconnected. As a result, the host application fails to load the agent, and the No such extension org.apache.dubbo.registry.RegistryFactory by name sc reports an error.")])]),e._v(" "),t("h2",{attrs:{id:"exception-sermant-master-v1-register-error"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exception-sermant-master-v1-register-error"}},[e._v("#")]),e._v(" Exception：/sermant/master/v1/register error")]),e._v(" "),t("p",[e._v("As shown in the following figure:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-4.png"}}),e._v(" "),t("p",[e._v("The cause is that the backend is not started or the configured address is incorrect. Start the backend or configure the address correctly. For details about the backend, see the "),t("RouterLink",{attrs:{to:"/en/document//user-guide/backend.html"}},[e._v("backend document")]),e._v(".")],1),e._v(" "),t("p",[e._v("Note: This error does not affect the plugin registration process, but related errors may be reported.")]),e._v(" "),t("h2",{attrs:{id:"exception-connection-reset"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exception-connection-reset"}},[e._v("#")]),e._v(" Exception：Connection reset")]),e._v(" "),t("p",[e._v("As shown in the following figure:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-5.png"}}),e._v(" "),t("p",[e._v("Check whether the registration center address (servicecomb.service.address) and protocol (HTTP/HTTPS) in the plugin configuration (${agent_package_path}/agent/pluginPackage/service-registry/config/config.yaml) are correct.")]),e._v(" "),t("h2",{attrs:{id:"exception-https-protocol-is-not-supported"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exception-https-protocol-is-not-supported"}},[e._v("#")]),e._v(" Exception：https protocol is not supported")]),e._v(" "),t("p",[e._v("As shown in the following figure:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-6.png"}}),e._v(" "),t("p",[e._v("You need to enable ssl (servicecomb.service.sslEnabled) in the plugin configuration (${agent_package_path}/agent/pluginPackage/service-registry/config/config.yaml).")]),e._v(" "),t("h2",{attrs:{id:"exception-no-such-extension-org-apache-dubbo-metadata-report-metadatareportfactory-by-name-sc"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exception-no-such-extension-org-apache-dubbo-metadata-report-metadatareportfactory-by-name-sc"}},[e._v("#")]),e._v(" Exception：No such extension org.apache.dubbo.metadata.report.MetadataReportFactory by name sc")]),e._v(" "),t("p",[e._v("As shown in the following figure:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-7.png"}}),e._v(" "),t("p",[e._v("Check the registration configuration of the dubbo application. Check whether protocol exists and is not sc.")]),e._v(" "),t("ul",[t("li",[e._v("Example for dubbo/provider.xml")])]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[e._v("dubbo:")]),e._v("registry")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("address")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("sc://127.0.0.1:30100"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("protocol")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("nacos"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n")])])]),t("ul",[t("li",[e._v("For example, application.yml (or application.properties). The following uses application.yml as an example.")])]),e._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("dubbo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("registry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("protocol")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" nacos\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("//127.0.0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("30100")]),e._v("\n")])])]),t("p",[e._v("If protocol exists and is not set to sc, set protocol to sc or delete the protocol configuration.")]),e._v(" "),t("h2",{attrs:{id:"exception-no-registry-config-found-or-it-s-not-a-valid-config"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#exception-no-registry-config-found-or-it-s-not-a-valid-config"}},[e._v("#")]),e._v(" Exception：No registry config found or it's not a valid config")]),e._v(" "),t("p",[e._v("As shown in the following figure:")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-faq-8.png"}}),e._v(" "),t("p",[e._v("Please refer to the description of "),t("strong",[e._v("newly developed")]),e._v(" dubbo application in "),t("RouterLink",{attrs:{to:"/en/document/plugin/service-registry.html#supported-versions-and-limitations"}},[e._v("Service Registration Plug-in Document")]),e._v(" for the configuration of dubbo's own registry address.")],1),e._v(" "),t("h2",{attrs:{id:"what-is-the-relationship-between-plugin-configuration-enablespringregister-enabledubboregister-and-openmigration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-is-the-relationship-between-plugin-configuration-enablespringregister-enabledubboregister-and-openmigration"}},[e._v("#")]),e._v(" What Is The Relationship Between Plugin Configuration, enableSpringRegister/enableDubboRegister, And openMigration?")]),e._v(" "),t("p",[e._v("The following table describes the relationship between enableSpringRegister/enableDubboRegister and openMigration.")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("enableSpringRegister/enableDubboRegister")]),e._v(" "),t("th",[e._v("openMigration")]),e._v(" "),t("th",[e._v("effect")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("true")]),e._v(" "),t("td",[e._v("true")]),e._v(" "),t("td",[e._v("Enabling the Spring Cloud/Dubbo Migration Function")])]),e._v(" "),t("tr",[t("td",[e._v("true")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("Enable Spring cloud/Dubbo With SC Registration")])]),e._v(" "),t("tr",[t("td",[e._v("false")]),e._v(" "),t("td",[e._v("true")]),e._v(" "),t("td",[e._v("Disabling the Registration Plugin")])]),e._v(" "),t("tr",[t("td",[e._v("false")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("Disabling the Registration Plugin")])])])])],1)}),[],!1,null,null,null);t.default=s.exports}}]);