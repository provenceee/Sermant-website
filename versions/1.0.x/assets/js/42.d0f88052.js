(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{488:function(e,t,a){"use strict";a.r(t);var r=a(26),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"service-registry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#service-registry"}},[e._v("#")]),e._v(" Service-Registry")]),e._v(" "),t("p",[e._v("This article describes how to use the "),t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant/tree/develop/sermant-plugins/sermant-service-registry",target:"_blank",rel:"noopener noreferrer"}},[e._v("service registration plugin"),t("OutboundLink")],1),e._v(", as well as the migration capabilities of the registration center based on the "),t("a",{attrs:{href:"#registry-migration-spring-cloud"}},[e._v("Spring Cloud")]),e._v(" framework and the "),t("a",{attrs:{href:"#registry-migration-dubbo"}},[e._v("Dubbo")]),e._v(" framework.")]),e._v(" "),t("h2",{attrs:{id:"function"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#function"}},[e._v("#")]),e._v(" Function")]),e._v(" "),t("p",[e._v("The service registration plug-in has the ability to achieve registration migration in a non-intrusive way. Microservices originally registered in mainstream registries such as Eureka, Nacos, Zookeeper and Consul can be non-intrusively registered in "),t("a",{attrs:{href:"https://github.com/apache/servicecomb-service-center",target:"_blank",rel:"noopener noreferrer"}},[e._v("ServiceComb"),t("OutboundLink")],1),e._v(" based on dual registration or single registration mode Or "),t("a",{attrs:{href:"https://nacos.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nacos"),t("OutboundLink")],1),e._v(" On.")]),e._v(" "),t("h2",{attrs:{id:"parameter-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameter-configuration"}},[e._v("#")]),e._v(" Parameter Configuration")]),e._v(" "),t("h3",{attrs:{id:"sermant-agent-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sermant-agent-configuration"}},[e._v("#")]),e._v(" Sermant-agent configuration")]),e._v(" "),t("p",[e._v("Service registry plugin requires configuring the service metadata (application, project, version, environment, other metadata) in Sermant-agent, refer to "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#sermant-agent-parameter-configuration"}},[e._v("Sermant-agent User Manual")]),e._v(".")],1),e._v(" "),t("ul",[t("li",[t("p",[e._v("service.meta.application: application/group, service discovery is only possible for microservices that belong to the same application.")])]),e._v(" "),t("li",[t("p",[e._v("service.meta.project: project, service discovery is only possible for microservices that belong to the same project.")])]),e._v(" "),t("li",[t("p",[e._v("service.meta.version: version, used to identify the current version of the microservice.")])]),e._v(" "),t("li",[t("p",[e._v("service.meta.environment: environment, used to identify the current microservice's environment, and only microservices belonging to the same environment can perform service discovery.")])]),e._v(" "),t("li",[t("p",[e._v("service.meta.parameters: other metadata, used to tag the current microservice, like k1:v1,k2:v2.")])])]),e._v(" "),t("h3",{attrs:{id:"plugin-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#plugin-configuration"}},[e._v("#")]),e._v(" Plugin configuration")]),e._v(" "),t("p",[e._v("Service registry plugin requires modification of the plugin configuration file on demand, which can be found in the path "),t("code",[e._v("${path}/sermant-agent-x.x.x/agent/pluginPackage/service-registry/config/config.yaml")]),e._v(". The configuration file for the plugin is shown below:")]),e._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("register.service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("registerType")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" SERVICE_ COMB         "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The type of new registry, which controls the registration method used for service registration. Different registries have different registration implementations.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("  http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("//localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("30100")]),e._v("    "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# New registration center address. Controls where the service is registered when it is registered.")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("servicecomb.service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("heartbeat interval")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("15")]),e._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# heartbeat sending interval of service instance. Monitor the status of the service instance through the heartbeat.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("openMigration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("                "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Register the migration switch. When enabled, the original registration function of the host service will be blocked and only registered to the new registry.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enableSpringRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("         "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# The spring cloud plug-in registration ability switch. After being opened, it will be registered as a Spring Cloud service to the new registry. Cannot be turned on at the same time as the dubbo plug-in registration ability switch.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dubbo plug-in registration ability switch. After being opened, it will be registered as a dubbo service to the new registry. It cannot be turned on at the same time as the Spring plug-in registration ability switch.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("sslEnabled")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("                   "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ssl switch. Controls whether SSL security access is enabled.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("preferIpAddress")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("false")]),e._v("              "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Whether to use IP. Controls whether the service instance is registered using IP or domain name.")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("nacos.service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("username")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# nacos verifies the account. When the new registration center is nacos, you need to use nacos to verify your account when you register.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("                        "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# nacos verifies the account. When the new registration center is nacos, the password needs to be verified by nacos when registering.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("namespace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("                       "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# ID value of the nacos namespace. Control the namespace to which the nacos is registered when registering, and only microservices belonging to the same namespace can perform service discovery.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("weight")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),e._v("                           "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Service instance weight value. Used during service registration. When a service instance is called, the higher the weight, the higher the access frequency.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("clusterName")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" DEFAULT                "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Cluster name. It is used for service registration and discovery. When the service instance is called, only the instances under the same cluster will be called.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("ephemeral")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v("                     "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Whether it is a temporary node. Used during service registration. The temporary node is used when the node does not need to exist after the service is offline.")]),e._v("\n")])])]),t("p",[e._v("The configuration items are described as follows:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Parameter Key")]),e._v(" "),t("th",[e._v("Description")]),e._v(" "),t("th",[e._v("Default Value")]),e._v(" "),t("th",[e._v("Affiliated Registration Center")]),e._v(" "),t("th",[e._v("Required")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("register.service.registerType")]),e._v(" "),t("td",[e._v("Registration Center Type, support NACOS/SERVICE_COMB")]),e._v(" "),t("td",[e._v("SERVICE_COMB")]),e._v(" "),t("td",[e._v("common")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("register.service.address")]),e._v(" "),t("td",[e._v("Registration center address, service_comb: like http://localhost:30100, nacos: like 127.0.0.1:8848")]),e._v(" "),t("td",[e._v("http://127.0.0.1:30100")]),e._v(" "),t("td",[e._v("common")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("servicecomb.service.heartbeatInterval")]),e._v(" "),t("td",[e._v("Interval at which service instance heartbeats are sent (unit: second)")]),e._v(" "),t("td",[e._v("15")]),e._v(" "),t("td",[e._v("SERVICE_COMB")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("servicecomb.service.openMigration")]),e._v(" "),t("td",[e._v("Whether to enable the migration function")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("SERVICE_COMB")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("servicecomb.service.enableSpringRegister")]),e._v(" "),t("td",[e._v("Whether to enable the Spring Cloud plug-in registration capability. This capability must be enabled for the Spring Cloud framework and disabled for the Dubbo framework.Cannot be opened at the same time as enableDubboRegister")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("common")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("servicecomb.service.enableDubboRegister")]),e._v(" "),t("td",[e._v("Whether to enable the dubbo plug-in registration capability. This capability must be enabled for the dubbo framework and disabled for the spring cloud framework.Cannot be opened at the same time as enableSpringRegister")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("common")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("servicecomb.service.sslEnabled")]),e._v(" "),t("td",[e._v("Whether to enable SSL")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("SERVICE_COMB")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("servicecomb.service.prefererIpAddress")]),e._v(" "),t("td",[e._v("Whether to use IP access")]),e._v(" "),t("td",[e._v("false")]),e._v(" "),t("td",[e._v("SERVICE_ COMB")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("nacos.service.username")]),e._v(" "),t("td",[e._v("nacos username")]),e._v(" "),t("td",[e._v("-")]),e._v(" "),t("td",[e._v("NACOS")]),e._v(" "),t("td",[e._v("No")])]),e._v(" "),t("tr",[t("td",[e._v("nacos.service.password")]),e._v(" "),t("td",[e._v("nacos password")]),e._v(" "),t("td",[e._v("-")]),e._v(" "),t("td",[e._v("NACOS")]),e._v(" "),t("td",[e._v("No")])]),e._v(" "),t("tr",[t("td",[e._v("nacos.service.namespace")]),e._v(" "),t("td",[e._v("namespace, nacos setting the id of namespace")]),e._v(" "),t("td",[e._v("-")]),e._v(" "),t("td",[e._v("NACOS")]),e._v(" "),t("td",[e._v("No")])]),e._v(" "),t("tr",[t("td",[e._v("nacos.service.weight")]),e._v(" "),t("td",[e._v("service instance weight")]),e._v(" "),t("td",[e._v("1")]),e._v(" "),t("td",[e._v("NACOS")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("nacos.service.clusterName")]),e._v(" "),t("td",[e._v("cluster name")]),e._v(" "),t("td",[e._v("DEFAULT")]),e._v(" "),t("td",[e._v("NACOS")]),e._v(" "),t("td",[e._v("Yes")])]),e._v(" "),t("tr",[t("td",[e._v("nacos.service.ephemeral")]),e._v(" "),t("td",[e._v("Whether to enable ephemeral endpoint, true for yes，false for no")]),e._v(" "),t("td",[e._v("true")]),e._v(" "),t("td",[e._v("NACOS")]),e._v(" "),t("td",[e._v("Yes")])])])]),e._v(" "),t("blockquote",[t("p",[e._v("Notice:")]),e._v(" "),t("ul",[t("li",[e._v("group of nacos can setting by "),t("a",{attrs:{href:"#sermant-agent-configuration"}},[e._v("Sermant-agent configuration")]),e._v("'s service.meta.application.")]),e._v(" "),t("li",[e._v("nacos configs current only show normal use type, others see "),t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant/blob/develop/sermant-plugins/sermant-service-registry/registry-common/src/main/java/com/huawei/registry/config/NacosRegisterConfig.java",target:"_blank",rel:"noopener noreferrer"}},[e._v("NACOS config class"),t("OutboundLink")],1),e._v(".")])])]),e._v(" "),t("h2",{attrs:{id:"supported-versions-and-limitations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supported-versions-and-limitations"}},[e._v("#")]),e._v(" Supported Versions and Limitations")]),e._v(" "),t("p",[e._v("Framework Supported:")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("SpringCloud Edgware.SR2 - 2021.0.0")])]),e._v(" "),t("li",[t("p",[e._v("Dubbo 2.6.x - 2.7.x")])])]),e._v(" "),t("p",[e._v("Limitations:")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("For springcloud single registration scenario, the registration plugin will block all beans related to the original registration center, so please do not inject beans related to the original registration center in the business code, otherwise it will lead to service startup failure.")])]),e._v(" "),t("li",[t("p",[e._v("For "),t("strong",[e._v("newly developed dubbo applications")]),e._v(", you also need to configure the address of the dubbo registration center. This configuration item is generally in the configuration file of the dubbo application, for example, in the dubbo/provider.xml file.")])])]),e._v(" "),t("div",{staticClass:"language-xml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-xml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),t("span",{pre:!0,attrs:{class:"token namespace"}},[e._v("dubbo:")]),e._v("registry")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[e._v("address")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')]),e._v("sc://127.0.0.1:30100"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("/>")])]),e._v("\n")])])]),t("p",[e._v("Alternatively, in application.yml (or application.properties), application.yml is used as an example.")]),e._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("dubbo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("registry")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("address")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" sc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("//127.0.0.1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("30100")]),e._v("\n")])])]),t("p",[e._v("Note that the address information of "),t("strong",[e._v("this configuration item is not used")]),e._v(". Only the protocol name sc is used. (That is, the IP address is not important. "),t("strong",[e._v("You only need to start with sc://")]),e._v(".)")]),e._v(" "),t("blockquote",[t("p",[e._v("Note: For "),t("strong",[e._v("existing dubbo applications")]),e._v(", (Applications which hava already set up it's own registry address) "),t("strong",[e._v("This step is not required")]),e._v(".")])]),e._v(" "),t("h2",{attrs:{id:"operation-and-result-verification"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#operation-and-result-verification"}},[e._v("#")]),e._v(" Operation and Result Verification")]),e._v(" "),t("p",[e._v("The following will demonstrate how to use the service registration plug-in to verify the registration and migration function of the dubbo application in the single registration mode.")]),e._v(" "),t("h3",{attrs:{id:"preparations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#preparations"}},[e._v("#")]),e._v(" Preparations")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v("/Compile the sermant package")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant-examples/tree/main/registry-demo/dubbo-registry-demo",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" dubbo-registry-demo source code")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/apache/servicecomb-service-center",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" ServiceComb (used as a registry), and start")])])]),e._v(" "),t("blockquote",[t("p",[e._v("Note: "),t("RouterLink",{attrs:{to:"/en/document/user-guide/configuration-center.html"}},[e._v("Dynamic Configuration Center")]),e._v(" will be used by default in this scenario. Since it is not the core component of this scenario, it will not be described in this article.")],1)]),e._v(" "),t("h3",{attrs:{id:"step-1-compile-and-package-the-dubbo-registry-demo-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-compile-and-package-the-dubbo-registry-demo-application"}},[e._v("#")]),e._v(" Step 1: Compile and package the dubbo-registry-demo application")]),e._v(" "),t("p",[e._v("Execute the following command in the "),t("code",[e._v("${path}/Sermant-examples/registry-demo/dubbo-registry-demo")]),e._v(" directory:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\nmvn clean package\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\nmvn clean package\n")])])]),t("p",[e._v("After successful packaging, you can get "),t("code",[e._v("dubbo-registry-consumer.jar")]),e._v(" in "),t("code",[e._v("${path}/Sermant-examples/registry-demo/dubbo-registry-demo/dubbo-registry-consumer/target")]),e._v(" , get "),t("code",[e._v("dubbo-registry-provider.jar")]),e._v(" in "),t("code",[e._v("${path}/Sermant-examples/registry-demo/dubbo-registry-demo/dubbo-registry-provider/target")]),e._v(".")]),e._v(" "),t("blockquote",[t("p",[e._v("Note: path is the path where the dubbo-registry-demo application is downloaded.")])]),e._v(" "),t("h3",{attrs:{id:"step-2-deploy-the-applications"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-deploy-the-applications"}},[e._v("#")]),e._v(" Step 2: Deploy the applications")]),e._v(" "),t("p",[e._v("(1) Start Consumer")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent-x.x.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-consumer.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),e._v("/sermant-agent-x.x.x/agent/sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-consumer.jar\n")])])]),t("p",[e._v("(2) Start Provider")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent-x.x.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-provider.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),e._v("/sermant-agent-x.x.x/agent/sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-provider.jar\n")])])]),t("blockquote",[t("p",[e._v("Note: To facilitate the test, the DUBBO registration function is enabled in -Dservicecomb.service.enableDubboRegister=true mode. If the DUBBO registration function is enabled in other "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#parameter-configuration-options"}},[e._v("parameter configuration method")]),e._v(", you do not need to add this parameter.")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("Description: Replace "),t("code",[e._v("${path}")]),e._v(" with the Sermant project path, replace x.x.x with the actual Sermant version number, and appName with the application name in the agent startup parameter, which is irrelevant to registration parameters. The directory for running commands must be the JAR package directory of the demo application.")])]),e._v(" "),t("h3",{attrs:{id:"verification"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verification"}},[e._v("#")]),e._v(" Verification")]),e._v(" "),t("p",[e._v("After the preceding two applications are started, log in to the ServiceComb background "),t("code",[e._v("http://127.0.0.1:30103/")]),e._v(" and check whether related service instances have been registered.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-result-en.png"}}),e._v(" "),t("p",[e._v("Access the application interface "),t("code",[e._v("http://localhost:28820/hello")]),e._v(" to check whether the interface returns a normal response. If the interface returns a successful response, the registration is successful.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/registry-request-result.png"}}),e._v(" "),t("h2",{attrs:{id:"registry-migration-spring-cloud"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#registry-migration-spring-cloud"}},[e._v("#")]),e._v(" Registry Migration - Spring Cloud")]),e._v(" "),t("h3",{attrs:{id:"function-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#function-2"}},[e._v("#")]),e._v(" Function")]),e._v(" "),t("p",[e._v("Provides the capability of quickly migrating the registration center to the "),t("a",{attrs:{href:"https://github.com/apache/servicecomb-service-center",target:"_blank",rel:"noopener noreferrer"}},[e._v("ServiceComb"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://nacos.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nacos"),t("OutboundLink")],1),e._v(" based on the dual-registration mode without interrupting online services business. The following original registration centers are supported:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Original Registration Center")]),e._v(" "),t("th",[e._v("Supported or Not")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("Eureka")]),e._v(" "),t("td",[e._v("✅")])]),e._v(" "),t("tr",[t("td",[e._v("Consul")]),e._v(" "),t("td",[e._v("✅")])]),e._v(" "),t("tr",[t("td",[e._v("Nacos")]),e._v(" "),t("td",[e._v("✅")])]),e._v(" "),t("tr",[t("td",[e._v("Zookeeper")]),e._v(" "),t("td",[e._v("✅")])])])]),e._v(" "),t("p",[t("strong",[e._v("Schematic diagram of migration")])]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/sermant-register-migration-en.png"}}),e._v(" "),t("h3",{attrs:{id:"parameter-configuration-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameter-configuration-2"}},[e._v("#")]),e._v(" Parameter configuration")]),e._v(" "),t("h4",{attrs:{id:"modify-plugin-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modify-plugin-configuration"}},[e._v("#")]),e._v(" Modify plugin configuration")]),e._v(" "),t("p",[e._v("For details about the configuration, see the "),t("a",{attrs:{href:"#plugin-configuration"}},[e._v("Plugin configuration")]),e._v(".")]),e._v(" "),t("p",[e._v("Based on the preceding configuration, "),t("strong",[e._v("the migration configuration is added and the Spring Cloud registration plugin is enabled")]),e._v(". The configuration content is as follows:")]),e._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("servicecomb.service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("openMigration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Specifies whether to enable the migration function. To migrate the registration center, set this parameter to true.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enableSpringRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Enabling the spring cloud registration plugin")]),e._v("\n")])])]),t("h4",{attrs:{id:"close-the-original-registry-heartbeat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#close-the-original-registry-heartbeat"}},[e._v("#")]),e._v(" Close the Original Registry Heartbeat")]),e._v(" "),t("p",[e._v("The registration center migration plugin provides the method of disabling the heartbeat mechanism of the original registration center based on the dynamic configuration center to prevent continuous error log output.")]),e._v(" "),t("p",[e._v("Please refer to "),t("RouterLink",{attrs:{to:"/en/document/user-guide/configuration-center.html#sermant-dynamic-configuration-center-model"}},[e._v("Dynamic Configuration Center User Manual")]),e._v(", the configuration content is as follows:")],1),e._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"content为"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"origin.__registry__.needClose: true"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"group"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"app=${service.meta.application}&environment=${service.meta.environment}&service={spring.application.name}"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[e._v('"key"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"sermant.agent.registry"')]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),t("blockquote",[t("p",[e._v("Group recommends configuring it to microservice level. When configuring, please modify service.meta.application, service.meta.environment, and spring.application.nam to specific values. For the configuration of service.meta.application, service.meta.environment, please refer to the [Service Agent User Manual] (../user-guide/service-agent. md # parameter configuration of service-agent), and spring.application.name is the microservice name (that is, the service name configured in the spring application).")])]),e._v(" "),t("p",[e._v("The key value is "),t("strong",[e._v("sermant.agent.registry")]),e._v(".")]),e._v(" "),t("p",[e._v("It is recommended to configure the group to microservice level, i.e. "),t("strong",[e._v("app=${service.meta.application}&environment=${service.meta.environment}&service={spring.application.name}")]),e._v(", for the configuration of service.meta.application and service.meta.environment, please refer to the "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#sermant-agent-parameter-configuration"}},[e._v("Sermant-agent User Manual")]),e._v(", spring.application.name is the microservice name (i.e. the name of the service configured in the spring application).")],1),e._v(" "),t("p",[e._v("The content is "),t("strong",[e._v("origin.__registry__.needClose: true")]),e._v(".")]),e._v(" "),t("blockquote",[t("p",[t("em",[t("strong",[e._v("Notices :")])])]),e._v(" "),t("p",[e._v("This operation is a one-off operation. After the registration center heartbeat function is disabled, the heartbeat function cannot be enabled. It can be restored only after the application instance is restarted.")])]),e._v(" "),t("h3",{attrs:{id:"supported-versions-and-limitations-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supported-versions-and-limitations-2"}},[e._v("#")]),e._v(" Supported Versions and Limitations")]),e._v(" "),t("p",[e._v("Framework Supported:")]),e._v(" "),t("ul",[t("li",[e._v("SpringCloud Edgware.SR2 - 2021.0.0")])]),e._v(" "),t("p",[e._v("Limitations: None")]),e._v(" "),t("h3",{attrs:{id:"operation-and-result-verification-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#operation-and-result-verification-2"}},[e._v("#")]),e._v(" Operation and Result Verification")]),e._v(" "),t("p",[e._v("The following will demonstrate how to use the service registration plug-in to verify the registration and migration function of the SpringCloug application in the dual registration mode (the scenario of migrating from Zookeeper to ServiceComb).")]),e._v(" "),t("h4",{attrs:{id:"preparations-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#preparations-2"}},[e._v("#")]),e._v(" Preparations")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v("/Compile the sermant package")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant-examples/tree/main/registry-demo/spring-cloud-registry-demo",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" spring-cloud-registry-demo source code")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/apache/servicecomb-service-center",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" ServiceComb (used as a registry), and start")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://zookeeper.apache.org/releases.html#download",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" Zookeeper (used as a registry), and start")])])]),e._v(" "),t("h3",{attrs:{id:"step-1-compile-and-package-the-spring-cloud-registry-demo-application"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-compile-and-package-the-spring-cloud-registry-demo-application"}},[e._v("#")]),e._v(" Step 1: Compile and package the spring-cloud-registry-demo application")]),e._v(" "),t("p",[e._v("Execute the following command in the "),t("code",[e._v("${path}/Sermant-examples/registry-demo/spring-cloud-registry-demo")]),e._v(" directory:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\nmvn clean package\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\nmvn clean package\n")])])]),t("p",[e._v("After successful packaging, you can get "),t("code",[e._v("spring-cloud-registry-consumer.jar")]),e._v(" in "),t("code",[e._v("${path}/Sermant-examples/registry-demo/spring-cloud-registry-demo/spring-cloud-registry-consumer/target")]),e._v(" , get "),t("code",[e._v("spring-cloud-registry-provider.jar")]),e._v(" in "),t("code",[e._v("${path}/Sermant-examples/registry-demo/spring-cloud-registry-demo/spring-cloud-registry-provider/target")]),e._v(".")]),e._v(" "),t("blockquote",[t("p",[e._v("Note: path is the path where the spring-cloud-registry-demo application is downloaded.")])]),e._v(" "),t("h4",{attrs:{id:"step-2-deploy-the-applications-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-deploy-the-applications-2"}},[e._v("#")]),e._v(" Step 2: Deploy the applications")]),e._v(" "),t("p",[e._v("(1) Start the original provider and original consumer (registered in Zookeeper)")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-provider.jar\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-consumer.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-provider.jar\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-consumer.jar\n")])])]),t("p",[e._v("After successful startup, visit the consumer interface "),t("code",[e._v("http://localhost:8161/hello")]),e._v(" to confirm that the interface is returning properly.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/springcloud-migration-1.png"}}),e._v(" "),t("p",[e._v("(2) Start up double registration providers")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dserver.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8262")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.openMigration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableSpringRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent-x.x.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-provider.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dserver.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8262")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.openMigration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableSpringRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),e._v("/sermant-agent-x.x.x/agent/sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-provider.jar\n")])])]),t("blockquote",[t("p",[e._v("Notices: To facilitate the test, the spring migration function is enabled in -Dservicecomb.service.openMigration=true -Dservicecomb.service.enableSpringRegister=true mode. If the spring migration function is enabled in other "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#parameter-configuration-options"}},[e._v("parameter configuration method")]),e._v(", you do not need to add this parameter. For perspective, the provider port is modified using -Dserver.port=8262.")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("Description: Replace path with the actual Sermant package path**, x.x.x is the actual Sermant version number, and appName with the agent startup parameter, which is irrelevant to registration parameters.")])]),e._v(" "),t("p",[e._v("After a successful start, visit the consumer interface "),t("code",[e._v("http://localhost:8161/hello")]),e._v(" several times to confirm that the interface can access the 2 providers.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/springcloud-migration-2.png"}}),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/springcloud-migration-1.png"}}),e._v(" "),t("p",[e._v("(3) Close the original provider")]),e._v(" "),t("p",[e._v("(4) Start up double registration consumers")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dserver.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8261")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.openMigration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableSpringRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent-x.x.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-consumer.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dserver.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("8261")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.openMigration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableSpringRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),e._v("/sermant-agent-x.x.x/agent/sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" spring-cloud-registry-consumer.jar\n")])])]),t("blockquote",[t("p",[e._v("Notices: To facilitate the test, the spring migration function is enabled in -Dservicecomb.service.openMigration=true -Dservicecomb.service.enableSpringRegister=true mode. If the spring migration function is enabled in other "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#parameter-configuration-options"}},[e._v("parameter configuration method")]),e._v(", you do not need to add this parameter. For perspective, the consumer port is modified using -Dserver.port=8261.")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("Description: Replace path with the actual Sermant package path**, x.x.x is the actual Sermant version number, and appName with the agent startup parameter, which is irrelevant to registration parameters.")])]),e._v(" "),t("p",[e._v("After successful startup, visit the consumer interface "),t("code",[e._v("http://localhost:8161/hello")]),e._v(" and "),t("code",[e._v("http://localhost:8261/hello")]),e._v(" several times to confirm that the 2 interfaces can access the double registered provider.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/springcloud-migration-3.png"}}),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/springcloud-migration-4.png"}}),e._v(" "),t("p",[e._v("(5) Close the original consumer")]),e._v(" "),t("p",[e._v("(6) Stop the old registry center (Zookeeper)")]),e._v(" "),t("blockquote",[t("p",[t("em",[t("strong",[e._v("Notices：")])])]),e._v(" "),t("p",[e._v("Stop the original register center. Because most of the registry centers have the heartbeat check mechanism, the instance may continuously update error logs, but the application invoking is not affected.")]),e._v(" "),t("p",[e._v("To stop such error logs, see "),t("a",{attrs:{href:"#close-the-original-registry-heartbeat"}},[t("strong",[e._v("Close the Original Registry Heartbeat")])]),e._v(".")]),e._v(" "),t("p",[e._v("When issuing a configuration to a provider, key is "),t("strong",[e._v("sermant.agent.registry")]),e._v(", group is "),t("strong",[e._v("app=default&environment=&service=spring-cloud-registry-provider")]),e._v("，content is "),t("strong",[e._v("origin.__registry__.needClose: true")]),e._v(".")]),e._v(" "),t("p",[e._v("When issuing a configuration to a consumer, key is "),t("strong",[e._v("sermant.agent.registry")]),e._v(", group is "),t("strong",[e._v("app=default&environment=&service=spring-cloud-registry-consumer")]),e._v("，content is "),t("strong",[e._v("origin.__registry__.needClose: true")]),e._v(".")])]),e._v(" "),t("h4",{attrs:{id:"verification-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verification-2"}},[e._v("#")]),e._v(" Verification")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/springcloud-migration-5-en.png"}}),e._v(" "),t("p",[e._v("The producer service and consumer service successfully migrate the registry to servicecomb, and the producer can always invoke the consumer during the migration of the registry without interrupting the service.")]),e._v(" "),t("h2",{attrs:{id:"registry-migration-dubbo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#registry-migration-dubbo"}},[e._v("#")]),e._v(" Registry Migration - Dubbo")]),e._v(" "),t("h3",{attrs:{id:"function-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#function-3"}},[e._v("#")]),e._v(" Function")]),e._v(" "),t("p",[e._v("Provides the capability of quickly migrating the registration center to the "),t("a",{attrs:{href:"https://github.com/apache/servicecomb-service-center",target:"_blank",rel:"noopener noreferrer"}},[e._v("ServiceComb"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://nacos.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Nacos"),t("OutboundLink")],1),e._v(" based on the dual-registration mode without interrupting online services business. The following original registration centers are supported:")]),e._v(" "),t("table",[t("thead",[t("tr",[t("th",[e._v("Original Registration Center")]),e._v(" "),t("th",[e._v("Support")])])]),e._v(" "),t("tbody",[t("tr",[t("td",[e._v("Nacos")]),e._v(" "),t("td",[e._v("✅")])]),e._v(" "),t("tr",[t("td",[e._v("Zookeeper")]),e._v(" "),t("td",[e._v("✅")])])])]),e._v(" "),t("p",[t("strong",[e._v("Schematic diagram of migration")])]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/sermant-register-migration-en.png"}}),e._v(" "),t("h3",{attrs:{id:"parameter-configuration-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#parameter-configuration-3"}},[e._v("#")]),e._v(" Parameter configuration")]),e._v(" "),t("h4",{attrs:{id:"modify-plugin-configuration-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modify-plugin-configuration-2"}},[e._v("#")]),e._v(" Modify plugin configuration")]),e._v(" "),t("p",[e._v("For details about the configuration, see the "),t("a",{attrs:{href:"#plugin-configuration"}},[e._v("Plugin configuration")]),e._v(".")]),e._v(" "),t("p",[e._v("Based on the preceding configuration, "),t("strong",[e._v("the migration configuration is added and the Dubbo registration plugin is enabled")]),e._v(". The configuration content is as follows:")]),e._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("servicecomb.service")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("openMigration")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Specifies whether to enable the migration function. To migrate the registration center, set this parameter to true.")]),e._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[e._v("enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[e._v("true")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Enabling the Dubbo registration plugin")]),e._v("\n")])])]),t("p",[t("strong",[e._v("Notices")]),e._v(": If the migration function is enabled, you do not need to change the address of the original registration center (i.e. dubbo.registry.address). Otherwise, the registration will not be performed at the same time with two registration centers (original registration center + SC).")]),e._v(" "),t("h3",{attrs:{id:"supported-versions-and-limitations-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#supported-versions-and-limitations-3"}},[e._v("#")]),e._v(" Supported Versions and Limitations")]),e._v(" "),t("p",[e._v("Framework Supported:")]),e._v(" "),t("ul",[t("li",[e._v("Dubbo 2.6.x - 2.7.x")])]),e._v(" "),t("p",[e._v("Limitations: None")]),e._v(" "),t("h3",{attrs:{id:"operation-and-result-verification-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#operation-and-result-verification-3"}},[e._v("#")]),e._v(" Operation and Result Verification")]),e._v(" "),t("p",[e._v("The following will demonstrate how to use the service registration plug-in to verify the registration and migration function of Dubbo application in the dual registration mode (the scenario of migrating from Zookeeper to ServiceComb).")]),e._v(" "),t("h4",{attrs:{id:"preparations-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#preparations-3"}},[e._v("#")]),e._v(" Preparations")]),e._v(" "),t("ul",[t("li",[t("p",[t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v("/Compile the sermant package")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/huaweicloud/Sermant-examples/tree/main/registry-demo/dubbo-registry-demo",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" dubbo-registry-demo source code")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://github.com/apache/servicecomb-service-center",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" ServiceComb (used as a registry), and start")])]),e._v(" "),t("li",[t("p",[t("a",{attrs:{href:"https://zookeeper.apache.org/releases.html#download",target:"_blank",rel:"noopener noreferrer"}},[e._v("Download"),t("OutboundLink")],1),e._v(" Zookeeper (used as a registry), and start")])])]),e._v(" "),t("h3",{attrs:{id:"step-1-compile-and-package-the-dubbo-registry-demo-application-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-compile-and-package-the-dubbo-registry-demo-application-2"}},[e._v("#")]),e._v(" Step 1: Compile and package the dubbo-registry-demo application")]),e._v(" "),t("p",[e._v("Execute the following command in the "),t("code",[e._v("${path}/Sermant-examples/registry-demo/dubbo-registry-demo")]),e._v(" directory:")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\nmvn clean package\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\nmvn clean package\n")])])]),t("p",[e._v("After successful packaging, you can get "),t("code",[e._v("dubbo-registry-consumer.jar")]),e._v(" in "),t("code",[e._v("${path}/Sermant-examples/registry-demo/dubbo-registry-demo/dubbo-registry-consumer/target")]),e._v(" , get "),t("code",[e._v("dubbo-registry-provider.jar")]),e._v(" in "),t("code",[e._v("${path}/Sermant-examples/registry-demo/dubbo-registry-demo/dubbo-registry-provider/target")]),e._v(".")]),e._v(" "),t("blockquote",[t("p",[e._v("Note: path is the path where the dubbo-registry-demo application is downloaded.")])]),e._v(" "),t("h4",{attrs:{id:"step-2-deploy-the-applications-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-deploy-the-applications-3"}},[e._v("#")]),e._v(" Step 2: Deploy the applications")]),e._v(" "),t("p",[e._v("(1) Start up double registration consumer")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.openMigration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent-x.x.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-consumer.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.openMigration")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),e._v("/sermant-agent-x.x.x/agent/sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-consumer.jar\n")])])]),t("blockquote",[t("p",[e._v("Notices: To facilitate the test, the dubbo migration function is enabled in -Dservicecomb.service.openMigration=true -Dservicecomb.service.enableDubboRegister=true mode. If the dubbo migration function is enabled in other "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#parameter-configuration-options"}},[e._v("parameter configuration method")]),e._v(", you do not need to add this parameter.")],1)]),e._v(" "),t("p",[e._v("(2) Start the original provider (registered with the Zookeeper).")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-provider.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-provider.jar\n")])])]),t("p",[e._v("(3) Starting a New Provider (Registering to the SC)")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# windows")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dserver.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("48021")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Ddubbo.protocol.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("48821")]),e._v(" -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent-x.x.x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("agent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-provider.jar\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# mac, linux")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dservicecomb.service.enableDubboRegister")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Dserver.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("48021")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-Ddubbo.protocol.port")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("48821")]),e._v(" -javaagent:"),t("span",{pre:!0,attrs:{class:"token variable"}},[e._v("${path}")]),e._v("/sermant-agent-x.x.x/agent/sermant-agent.jar"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("appName"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("default "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" dubbo-registry-provider.jar\n")])])]),t("blockquote",[t("p",[e._v("Notice: To facilitate the test, the Dubbo registration function is enabled in -Dservicecomb.service.enableDubboRegister=true mode. If the Dubbo registration function is enabled in other "),t("RouterLink",{attrs:{to:"/en/document/user-guide/sermant-agent.html#parameter-configuration-options"}},[e._v("parameter configuration method")]),e._v(", you do not need to add this parameter. In addition, to solve the port conflict problem when two providers are started on the same server, you need to add the -Dserver.port=48021 -Ddubbo.protocol.port=48821 parameter. If the two providers are on different servers, you do not need to add this parameter.")],1)]),e._v(" "),t("blockquote",[t("p",[e._v("Description: Please replace "),t("code",[e._v("${path}")]),e._v(" with the Sermant project path, replace x.x.x with the actual Sermant version number, and appName with the application name in the agent startup parameter, which is irrelevant to the registration parameter. The directory for running the command must be the directory where the JAR package of the demo application is located.")])]),e._v(" "),t("h4",{attrs:{id:"verification-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verification-3"}},[e._v("#")]),e._v(" Verification")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/dubbo-migration-en.png"}}),e._v(" "),t("p",[e._v("After starting the above 3 applications, log in to ServiceComb backend "),t("code",[e._v("http://127.0.0.1:30103/")]),e._v(" and check the Zookeeper node data, all of them can view the consumer and provider applications.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/dubbo-migration-1.png"}}),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/dubbo-migration-2.png"}}),e._v(" "),t("p",[e._v("visit the application interface "),t("code",[e._v("http://localhost:28820/hello")]),e._v(" several times to confirm whether the interface returns normally. If the interface returns successfully and the producer instances of the 2 registries can be accessed, it means the registration and migration are successful.")]),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/dubbo-migration-3.png"}}),e._v(" "),t("MyImage",{attrs:{src:"/docs-img/dubbo-migration-4.png"}})],1)}),[],!1,null,null,null);t.default=s.exports}}]);